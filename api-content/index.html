{"posts":[{"title":"æ¬¢è¿æ¥åˆ°Gridea","content":"å½“ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œæ„å‘³ç€ä½ çš„çœ¼ç›æ˜¯çå¼€çš„ï¼Œè°¢è°¢ã€‚","link":"https://koko-club.github.io/post/huan-ying-lai-dao-gridea/"},{"title":"jenkins","content":"jenkinsä»‹ç»Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆ(CI)å·¥å…·ï¼Œèµ·æºäºHudsonï¼Œä¸»è¦ç”¨äºæŒç»­ã€è‡ªåŠ¨çš„æ„å»º/æµ‹è¯•è½¯ä»¶é¡¹ç›®ã€ç›‘æ§å¤–éƒ¨ä»»åŠ¡çš„è¿è¡Œã€‚Jenkinsç”¨Javaè¯­è¨€ç¼–å†™ï¼Œå¯åœ¨Tomcatç­‰æµè¡Œçš„servletå®¹å™¨ä¸­è¿è¡Œï¼Œä¹Ÿå¯ç‹¬ç«‹è¿è¡Œã€‚é€šå¸¸ä¸ç‰ˆæœ¬ç®¡ç†å·¥å…·(SCM)ã€æ„å»ºå·¥å…·ç»“åˆä½¿ç”¨ã€‚å¸¸ç”¨çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·æœ‰SVNã€GITï¼Œæ„å»ºå·¥å…·æœ‰Mavenã€Antã€Gradleã€‚jenkinså®˜ç½‘ï¼šhttps://www.jenkins.io/æŒç»­é›†æˆCIæŒç»­é›†æˆæ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šå¸¸æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚é€šä¿—æ¥è®²æŒç»­é›†æˆå°±æ˜¯è½¯ä»¶å¼€å‘äººå‘˜æäº¤ä»£ç ä»¥åè‡ªåŠ¨åŒ–æ„å»ºã€å‘å¸ƒã€æµ‹è¯•ã€‚æŒç»­äº¤ä»˜CDCD(ContinuousDeliveryï¼Œä¸­æ–‡æ„æ€æŒç»­äº¤ä»˜)æ˜¯åœ¨æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå°†é›†æˆåçš„ä»£ç éƒ¨ç½²åˆ°æ›´è´´è¿‘çœŸå®è¿è¡Œç¯å¢ƒ(ç±»ç”Ÿäº§ç¯å¢ƒ)ä¸­ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å®Œæˆå•å…ƒæµ‹è¯•åï¼Œå¯ä»¥æŠŠä»£ç éƒ¨ç½²åˆ°è¿æ¥æ•°æ®åº“çš„Stagingç¯å¢ƒä¸­æ›´å¤šçš„æµ‹è¯•ã€‚å¦‚æœä»£ç æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ‰‹åŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚ä¸‹å›¾ååº”çš„æ˜¯CI/CDçš„å¤§æ¦‚å·¥ä½œæ¨¡å¼ã€‚éƒ¨ç½²éƒ¨ç½²æ–¹å¼ä¸€èˆ¬ç°åœ¨å°±åˆ†ä¸ºäºŒè¿›åˆ¶éƒ¨ç½²å’Œdocker(k8s)éƒ¨ç½²ã€‚å®˜ç½‘ä¸‹è½½ï¼šhttps://www.jenkins.io/download/äºŒè¿›åˆ¶åŒ…éƒ¨ç½²jenkinsæœ¬èº«æ˜¯åŸºäºjavaå¼€å‘ï¼Œå…¶äºŒè¿›åˆ¶åŒ…æ˜¯waræ–‡ä»¶ï¼Œè¿è¡Œäºtomcatã€‚1.éƒ¨ç½²tomcat2.ä¸‹è½½jenkinsçš„waréƒ¨ç½²åŒ…3.å°†åŒ…æ”¾äºtomcatçš„webappsç›®å½•ä¸‹ï¼Œå¯åŠ¨tomcatã€‚é»˜è®¤8080ç«¯å£è®¿é—®ã€‚k8s(docker)éƒ¨ç½²dockeréƒ¨ç½²dockeruhbå®˜ç½‘é•œåƒåœ°å€ï¼šhttps://hub.docker.com/r/jenkins/jenkins1.æ‹‰å–é•œåƒdockerpulljenkins/jenkins2.åœ¨æœ¬åœ°åˆ›å»ºJenkins-homeç›®å½•ï¼šmkdir-p/home/jenkins_homeç”¨äºæ˜ å°„3.å¯åŠ¨Jenkinså®¹å™¨ï¼šdockerrun-d--namejenkins-p8080:8080-p50000:50000-v/home/jenkins_home:/var/jenkins_homejenkins/jenkinsâ€‹-p50000:50000ï¼Œè¿™ä¸ªç«¯å£æ˜ å°„è¦ä¿æŒä¸€è‡´ï¼Œå¦åˆ™agentæ— æ³•å¯åŠ¨ï¼Œagentéƒ¨åˆ†ä¸»è¦ä½œç”¨å°±æ˜¯å‘Šè¯‰Jenkins,é€‰æ‹©å“ªå°èŠ‚ç‚¹æœºå™¨å»æ‰§è¡ŒPipelineä»£ç 4ã€ç„¶åç½‘ç«™ä¸Šè¾“å…¥IP:8080è®¿é—®ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå¤åˆ¶é¡µé¢ä¸Šçš„è·¯å¾„ï¼Œåœ¨æœåŠ¡å™¨ä¸Šè¾“å…¥catè·¯å¾„æŸ¥çœ‹å¯†ç ï¼Œç²˜è´´åˆ°è¾“å…¥æ¡†ä¹‹åä¸‹ä¸€æ­¥å°±å¥½â€‹cat/var/jenkins_home/secrets/initialadminpasswordk8séƒ¨ç½²k8sä¸Šé¢ä¸€èˆ¬æœ‰ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼Œä½¿ç”¨yamlæ–‡ä»¶éƒ¨ç½²å’Œhelmæ–¹å¼éƒ¨ç½²ã€‚helmæ–¹å¼helmæ–¹å¼å»ºè®®ä½¿ç”¨å®˜æ–¹é•œåƒï¼Œè¿™é‡Œå¦‚æœç”¨çš„æ˜¯bitnamiçš„é•œåƒåˆ™å»ºè®®æ›¿æ¢æˆå®˜æ–¹ï¼Œæˆ‘è¿™è¾¹ä½¿ç”¨å‘ç°bitnamiçš„jenkinsæœ‰äº›ç³»ç»Ÿé…ç½®æ— æ³•æŒä¹…åŒ–ã€‚helmrepoaddjenkinshttps://charts.jenkins.iohelmpulljenkinshttps://charts.jenkins.iotar-xvfjenkins-VERSION.tar.gzcdjenkinsvimvalues.yaml#æ ¹æ®éœ€æ±‚æ›´æ”¹é…ç½®é‡è¦çš„é…ç½®åŒ…æ‹¬jenkinså¯†ç ï¼Œsvcç±»å‹ï¼ŒjenkinsæŒä¹…åŒ–å­˜å‚¨é…ç½®ï¼ˆPVCï¼‰æ”¹å®Œä»¥åhelminstalljenkins.-nè¦éƒ¨ç½²çš„åç§°ç©ºé—´yamléƒ¨ç½²jenkins.yaml:apiVersion:apps/v1kind:Deploymentmetadata:name:jksspec:replicas:1selector:matchLabels:app:jkstemplate:metadata:labels:app:jksspec:containers:-name:jksimage:jenkins/jenkins:2.319.3-centos7-jdk8imagePullPolicy:Alwaysports:-containerPort:8080volumeMounts:-name:jks-homemountPath:/var/jenkins_home-name:time-zone#å®¹å™¨å†…æŒ‚è½½ç‚¹åç§°mountPath:/etc/localtime#å®¹å™¨å†…æŒ‚è½½ç‚¹è·¯å¾„ï¼Œå¯ä»¥æ˜¯æ–‡ä»¶æˆ–ç›®å½•affinity:#è¿™é‡Œç”±äºjenkinsé•œåƒå¾ˆå¤§ï¼Œé¿å…åˆ æ‰podé‡æ„åˆ‡æ¢èŠ‚ç‚¹åˆè¦æ‹‰å–æ•°æ®ï¼Œæ‰€ä»¥å›ºå®šå…¶èŠ‚ç‚¹ã€‚nodeAffinity:requiredDuringSchedulingIgnoredDuringExecution:nodeSelectorTerms:-matchExpressions:-key:kubernetes.io/hostname#æ ‡ç­¾é”®åoperator:Invalues:-node2initContainers:-args:--c-chmod755/var/jenkins_home&amp;&amp;chown1000:1000/var/jenkins_home###è¿™é‡Œå°†ä¸Šä¸€æ­¥æ‰€è®°å½•çš„æƒé™å±ç»„è¿›è¡Œæ›´æ”¹command:-/bin/shimage:centosimagePullPolicy:IfNotPresentname:chauthsecurityContext:privileged:true###å»ºè®®å¼€å¯ç‰¹æƒæ¨¡å¼volumeMounts:-mountPath:/var/jenkins_home###initcä¹Ÿè¦å¯¹æ¬¡æ•°æ®å·è¿›è¡ŒæŒ‚è½½name:jks-homevolumes:-name:time-zone#æ•°æ®å·åç§°ï¼Œéœ€è¦ä¸å®¹å™¨å†…æŒ‚è½½ç‚¹åç§°ä¸€è‡´hostPath:path:/etc/localtime-name:jks-homepersistentVolumeClaim:claimName:jks-pvc---apiVersion:v1kind:PersistentVolumeClaimmetadata:name:jks-pvcspec:accessModes:-ReadWriteOnceresources:requests:storage:200Gi---apiVersion:v1kind:Servicemetadata:name:jksspec:selector:app:jkstype:NodePortports:-port:8080targetPort:8080nodePort:32089kubectlapply-fjenkins.yamléƒ¨ç½²å®Œåè®¿é—®jenkins:è¿™é‡Œè¿˜æ˜¯å’Œä¸Šé¢ä¸€æ ·ï¼Œè¿›å…¥å®¹å™¨æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶[root@node1jenkins_test]#kubectlexec-itjks-698b6564fb-5692t-nk3s-testbashkubectlexec[POD][COMMAND]isDEPRECATEDandwillberemovedinafutureversion.Usekubectlexec[POD]--[COMMAND]instead.Defaultedcontainer&quot;jks&quot;outof:jks,chauth(init)bash-4.2$cat/var/jenkins_home/secrets/initialAdminPassword54c0b40b20f34b4ca7b75840c68883a1ç„¶åå¡«å…¥ç®¡ç†å‘˜å¯†ç å°±okå®‰è£…çš„æ’ä»¶å¦‚æœä¸çŸ¥é“å¯ä»¥å…ˆé€‰æ‹©æ¨èå®‰è£…çš„æ’ä»¶ä»»åŠ¡jenkinsä¸»è¦å°±æ˜¯é€šè¿‡æ‰§è¡Œä»»åŠ¡æ¥å·¥ä½œçš„ï¼Œå·¦è¾¹èœå•ç¬¬ä¸€ä¸ªæŒ‰é’®å°±æ˜¯æ–°å»ºitemä¸»è¦ä½¿ç”¨çš„å°±æ˜¯è‡ªç”±é¡¹ç›®ã€æµæ°´çº¿ã€å¤šåˆ†æ”¯æµæ°´çº¿ï¼Œè€Œä»ä»»åŠ¡ç±»å‹è§’åº¦æ¥è®²ä¸»è¦å°±åˆ†ä¸ºä¸¤ç§ï¼šæµæ°´çº¿ä¸éæµæ°´çº¿éæµæ°´çº¿ï¼ˆè‡ªç”±é£æ ¼ï¼‰ä¸€èˆ¬ä»»åŠ¡çš„æ­¥éª¤åˆ†ä¸ºï¼šæ¨é€ä»£ç -ã€‹è§¦å‘é’©å­-ã€‹jenkinsä»»åŠ¡æ‰§è¡Œ-ã€‹æ‹‰å–ä»£ç -ã€‹æ„å»ºæ“ä½œ-ã€‹æ„å»ºåæ“ä½œï¼ˆä¸€èˆ¬æ˜¯é€šçŸ¥ï¼‰æ‹‰å–ä»£ç è¿™é‡Œä»æ‹‰å–ä»£ç å¼€å§‹ï¼šé¦–å…ˆåœ¨åˆ›å»ºfreestyleprojectå‰éœ€è¦å…ˆä¸‹è½½GitParameteræ¨¡å—ï¼Œåœ¨ç³»ç»Ÿç®¡ç†â€”ã€‹æ’ä»¶ç®¡ç†â€”ã€‹å¯é€‰æ’ä»¶ä¸­æœç´¢gitparameterï¼Œä¸‹è½½å¹¶é‡å¯jenkinsã€‚æ–°å»ºä»»åŠ¡åœ¨æºç ç®¡ç†ä¸­é€‰æ‹©gitï¼ŒRepositoryURLè¾“å…¥gitä»“åº“åœ°å€ï¼ŒCredentialsæ·»åŠ ä¸€ä¸ªå…¨å±€å‡­æ®ç”¨äºgitç™»å½•ï¼ŒæŒ‡å®šåˆ†æ”¯ä¸­é€‰æ‹©è¦æ‹‰å–çš„åˆ†æ”¯ã€‚æ„å»ºè§¦å‘å™¨æ„å»ºè§¦å‘å™¨ä¸€èˆ¬ç”¨äºåœ¨ä»£ç ä»“åº“æ¨é€ä»£ç ä¹‹åï¼Œè§¦å‘è§¦å‘å™¨ç„¶åjenkinså¼€å§‹æ„å»ºå¯¹åº”çš„ä»»åŠ¡ã€‚è¿™ä¸ªéœ€è¦GenericWebhookTriggeræ’ä»¶ï¼Œå®‰è£…å®Œæ¯•é‡å¯å³å¯ã€‚webhookè§¦å‘jenkinsä»»åŠ¡é…ç½®é¦–å…ˆéœ€è¦åœ¨jenkinsä»»åŠ¡ä¸­é…ç½®è§¦å‘å™¨ä¾‹å¦‚è¿™é‡Œçš„tokenè®¾ç½®çš„æ˜¯testï¼Œåˆ™è§¦å‘å™¨urlä¸ºï¼šhttp://jenkins/generic-webhook-trigger/invok?token=testä¸€èˆ¬ä»£ç ä»“åº“å¦‚gitlabéƒ½ä¼šåœ¨å…·ä½“é¡¹ç›®é‡Œé¢æœ‰webhooké…ç½®ï¼Œå¦‚ä¸‹é¦–å…ˆå°†åˆšåˆšè®¾ç½®æ‹¿åˆ°çš„è§¦å‘å™¨urlå¡«å…¥è¿™ä¸ªURLä¸­ï¼Œç„¶åè®¾ç½®è§¦å‘çš„åŠ¨ä½œï¼Œä¸€èˆ¬pusheventså³å¯ï¼Œè¡¨ç¤ºå…¶æ”¶åˆ°pushæ“ä½œæ—¶ï¼Œåˆ™ä¼šè§¦å‘ã€‚åˆ°è¿™é‡Œwebhookè§¦å‘å™¨å°±é…ç½®å®Œæˆäº†ï¼Œå½“gitlabæ¨é€ä»£ç æ—¶ï¼Œjenkinsä¼šç«‹å³æ‰§è¡Œå¯¹åº”é¡¹ç›®çš„ä»»åŠ¡ã€‚æ„å»ºç¯å¢ƒæ„å»ºç¯å¢ƒä¸»è¦æ„å»ºå‰çš„ä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ„å»ºå‰åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ã€ä½¿ç”¨å¯†ç æ–‡ä»¶æˆ–æ–‡æœ¬ã€å¦‚æœå¡ä½åˆ™ç»ˆæ­¢æ„å»ºç­‰ã€‚è¿™ä¸ªé…ç½®ä¸æ˜¯å¿…è¦é…ç½®ï¼Œä¸€èˆ¬ä¸ç”¨å¯¹æ„å»ºç¯å¢ƒåšé…ç½®ã€‚æ„å»ºæ„å»ºæœ€å¸¸ç”¨çš„å°±æ˜¯æ‰§è¡Œshellå‘½åï¼Œæ‹‰å–ä»£ç ä»¥åçš„ç¼–è¯‘-ã€‹æ‰“åŒ…æ¨é€dockeré•œåƒï¼ˆå¦‚æœä¸æ‰“åŒ…å°±æ˜¯äºŒè¿›åˆ¶éƒ¨ç½²ï¼‰-ã€‹éƒ¨ç½²æ“ä½œéƒ½åœ¨è¿™ä¸€æ­¥å®Œæˆã€‚â€‹ç›´æ¥åœ¨é‡Œé¢æ‰§è¡Œshellå‘½ä»¤æˆ–è€…æ‰§è¡Œè„šæœ¬å°±è¡Œäº†ã€‚æ„å»ºåæ“ä½œæ„å»ºåå¸¸ç”¨é…ç½®æ˜¯æ„å»ºé€šçŸ¥ï¼Œä¸€èˆ¬å¸¸ç”¨çš„æ˜¯emailé€šçŸ¥ï¼Œjenkinsé»˜è®¤æ”¯æŒemailé€šçŸ¥ä½†ç°åœ¨æ¯”è¾ƒæµè¡Œç”¨webhookè¿›è¡Œé€šçŸ¥ï¼Œjenkinsé»˜è®¤ä¸æ”¯æŒè¿™ç§é…ç½®ï¼Œéœ€è¦é¢å¤–ä¸‹è½½æ’ä»¶ã€‚ä¼ä¸šå¾®ä¿¡é€šçŸ¥1ã€åœ¨éœ€è¦å‘é€ä¼ä¸šå¾®ä¿¡é€šçŸ¥çš„ç¾¤ä¸­â€œæ·»åŠ ç¾¤æœºå™¨äººâ€ï¼Œå¾—åˆ°webhookåœ°å€2ã€åœ¨Jenkinsç³»ç»Ÿç®¡ç†-æ’ä»¶ç®¡ç†-å¯é€‰æ’ä»¶ï¼Œæœç´¢&quot;QyWechatNotificationPlugin&quot;æ’ä»¶ï¼Œä¸‹è½½å¹¶é‡å¯Jenkins3ã€é…ç½®ç³»ç»Ÿé…ç½®â€‹è¾“å…¥webhookåœ°å€ï¼Œç‚¹å‡»ä¿å­˜å¡«å…¥webhookå³å¯ï¼Œå…¶ä»–å‡ é¡¹éå¿…å¡«é¡¹ã€‚é’‰é’‰é€šçŸ¥1ã€æ‰“å¼€é’‰é’‰ï¼Œè¿›å…¥ç¾¤è®¾ç½®-æ™ºèƒ½ç¾¤åŠ©æ‰‹-æ·»åŠ æœºå™¨äºº-è‡ªå®šä¹‰æœºå™¨äººï¼ˆå¡«å†™æœºå™¨äººåç§°ã€å®‰å…¨è®¾ç½®ã€åè®®ï¼‰å¾—åˆ°webhook2ã€åœ¨Jenkinsç³»ç»Ÿç®¡ç†-æ’ä»¶ç®¡ç†-å¯é€‰æ’ä»¶ï¼Œæœç´¢â€œDingTalkâ€ï¼Œä¸‹è½½å¹¶é‡å¯Jenkins3ã€é…ç½®ç³»ç»Ÿé…ç½®è¿›å…¥ç³»ç»Ÿç®¡ç†-ç³»ç»Ÿé…ç½®-é’‰é’‰ï¼Œè¾“å…¥webhookåœ°å€ã€idã€åç§°ï¼Œä¸»è¦æ˜¯webhookåœ°å€ä»¥åŠé’‰é’‰é‚£è¾¹æœºå™¨äººæ˜¯å¦é…ç½®äº†å…³é”®å­—å’ŒåŠ å¯†ï¼Œå¦‚æœæœ‰éœ€è¦è¾“å…¥ç„¶ååœ¨ä»»åŠ¡é…ç½®ä¸­æœ€ä¸Šé¢å°±å¯ä»¥æ‰¾åˆ°é’‰é’‰æœºå™¨äººå¦‚æœä¸å¡«å†™å†…å®¹åˆ™ä¸ºæ’ä»¶é»˜è®¤çš„å‘Šè­¦æ¨¡å¼ï¼Œå¦‚éœ€è‡ªå®šä¹‰éœ€è¦çœ‹æ’ä»¶æ–‡æ¡£ã€‚mavenä»»åŠ¡å¦‚æœæ˜¯javaé¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨mavené£æ ¼æ¥åˆ›å»ºä»»åŠ¡ã€‚é¦–å…ˆéœ€è¦æŒ‰MavenIntegrationpluginæ’ä»¶ï¼Œå®‰è£…åé‡å¯åœ¨åˆ›å»ºä»»åŠ¡æ—¶å°±å¯ä»¥çœ‹åˆ°é€‰é¡¹mavené£æ ¼é¡¹ç›®ä¸»è¦æ˜¯å¤šäº†ä¸€ä¸ªbuildé€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥åœ¨é…ç½®ä¸­æŒ‡å®špom.xmlè¿›è¡Œmavenæ‰“åŒ…ï¼Œä¸åƒè‡ªç”±é£æ ¼ä¸€æ ·æ‰€æœ‰æ“ä½œéƒ½éœ€è¦é€šè¿‡shellæ¥æ‰§è¡Œã€‚è¿™é‡Œéœ€è¦å®‰è£…mavenå·¥å…·ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šæç¤ºæ‰¾ä¸åˆ°å·¥å…·ï¼Œéœ€è¦åœ¨å…¨å±€å·¥å…·é…ç½®ä¸­å®‰è£…æˆ–æŒ‡å®šå·¥å…·ç›®å½•ã€‚æµæ°´çº¿ï¼ˆpipelineï¼‰æµæ°´çº¿å…¶å®å°±æ˜¯é€šè¿‡pipelineçš„æ–¹å¼æ¥é…ç½®ä»»åŠ¡æµç¨‹ã€‚pipelineè¯­æ³•pipelineç¤ºä¾‹ç¤ºä¾‹1pipeline{agentanystages{stage('è·å–ä»£ç '){steps{checkout([$class:'GitSCM',branches:[[name:'*/master']],doGenerateSubmoduleConfigurations:false,extensions:[],submoduleCfg:[],userRemoteConfigs:[[credentialsId:'4dc04ffd-15bf-46e3-a942-2b58f37bc26b',url:'git@gitlab.zhangxianwei.com:dev/java.git']]])}}stage('ä»£ç æ£€æµ‹'){steps{echo&quot;sonarqubecheck....&quot;}}stage('ä»£ç æ„å»º'){steps{echo&quot;mavenbuild.....&quot;}}stage('ä»£ç éƒ¨ç½²'){steps{echo&quot;echosh&quot;//sh-x'/server/scripts/deploy_html_tag.sh'}}}}javaé¡¹ç›®æ„å»ºpipelineç¤ºä¾‹pipeline{agent{label&quot;edge-node&quot;}options{buildDiscarder(logRotator(numToKeepStr:'3'))disableConcurrentBuilds()}stages{stage('Check'){steps{sh&quot;mvnsonar:sonar&quot;}}stage('Clean'){steps{sh&quot;mvnclean&quot;}}stage('Build'){steps{sh&quot;mvncompile&quot;}}stage('Package'){steps{sh&quot;mvnpackage-Dmaven.test.skip=true-P&quot;+env.BRANCH_NAME}}stage('Deploy'){steps{sh&quot;mvndeploy-Dmaven.test.skip=true-P&quot;+env.BRANCH_NAME}}stage('IN'){steps{sh&quot;~/kubectl_update.sh${env.WORKSPACE}${env.JOB_NAME}&quot;}}}post{success{dingTalk(robot:'jenkins',type:'MARKDOWN',title:&quot;æ„å»ºæˆåŠŸ:${JOB_NAME}&quot;,text:[&quot;##[${JOB_NAME}](${JOB_URL})&quot;,&quot;---&quot;,&quot;-ä»»åŠ¡:[${BUILD_DISPLAY_NAME}](${BUILD_URL})&quot;,&quot;-çŠ¶æ€:&lt;fontcolor=green&gt;æˆåŠŸ&lt;/font&gt;&quot;,&quot;-æŒç»­æ—¶é—´:${currentBuild.durationString}&quot;,],)}failure{dingTalk(robot:'jenkins',type:'MARKDOWN',title:&quot;æ„å»ºå¤±è´¥:${JOB_NAME}&quot;,text:[&quot;##[${JOB_NAME}](${JOB_URL})&quot;,&quot;---&quot;,&quot;-ä»»åŠ¡:[${BUILD_DISPLAY_NAME}](${BUILD_URL})&quot;,&quot;-çŠ¶æ€:&lt;fontcolor=red&gt;å¤±è´¥&lt;/font&gt;&quot;,&quot;-æŒç»­æ—¶é—´:${currentBuild.durationString}&quot;,],)}}}å‰ç«¯é¡¹ç›®æ„å»ºpipelineç¤ºä¾‹pipeline{agent{label&quot;edge-node&quot;}stages{stage('Check'){steps{sh&quot;~/sonar-scanner-4.7.0.2747-linux/bin/sonar-scanner-Dsonar.login=admin-Dsonar.password=finsi0t.c0m&quot;}}stage('Clean'){steps{sh&quot;npmcacheclean--force&quot;}}stage('Build'){steps{sh&quot;npminstall&amp;&amp;npmrunbuild:pro&quot;}}stage('Install'){steps{sh&quot;~/kubectl_update.sh${env.WORKSPACE}${env.JOB_NAME}&quot;}}}options{buildDiscarder(logRotator(numToKeepStr:'3'))disableConcurrentBuilds()}post{success{dingTalk(robot:'jenkins',type:'MARKDOWN',title:&quot;æ„å»ºæˆåŠŸ:${JOB_NAME}&quot;,text:[&quot;##[${JOB_NAME}](${JOB_URL})&quot;,&quot;---&quot;,&quot;-ä»»åŠ¡:[${BUILD_DISPLAY_NAME}](${BUILD_URL})&quot;,&quot;-çŠ¶æ€:&lt;fontcolor=green&gt;æˆåŠŸ&lt;/font&gt;&quot;,&quot;-æŒç»­æ—¶é—´:${currentBuild.durationString}&quot;,],)}failure{dingTalk(robot:'jenkins',type:'MARKDOWN',title:&quot;æ„å»ºå¤±è´¥:${JOB_NAME}&quot;,text:[&quot;##[${JOB_NAME}](${JOB_URL})&quot;,&quot;---&quot;,&quot;-ä»»åŠ¡:[${BUILD_DISPLAY_NAME}](${BUILD_URL})&quot;,&quot;-çŠ¶æ€:&lt;fontcolor=red&gt;å¤±è´¥&lt;/font&gt;&quot;,&quot;-æŒç»­æ—¶é—´:${currentBuild.durationString}&quot;,],)}}}åˆ›å»ºæµæ°´çº¿é¡¹ç›®è¿™é‡Œpipelineæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥åœ¨jenkinsä¸Šé¢å†™ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æ¥è‡ªä»“åº“çš„pipelineæ–‡ä»¶ï¼Œå¦‚ä¸Šå›¾ã€‚é»˜è®¤è„šæœ¬æ–‡ä»¶è·¯å¾„æ˜¯ä»£ç é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„Jenkinsfileã€‚ä¸‹é¢æ˜¯æˆ‘è¿™é‡Œgitlabå­˜æ”¾çš„ç”¨äºæµ‹è¯•çš„jenkinsfileï¼šjenkinsfile(pipeline)å’Œjenkinsæµæ°´çº¿é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥æ‰§è¡Œä»»åŠ¡äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„gitæ‹‰å–ä»“åº“åªèƒ½å†™åœ¨pipelineä¸­ï¼Œä¸èƒ½åƒè‡ªç”±é£æ ¼å’Œmavené£æ ¼ä»»åŠ¡ä¸€æ ·åœ¨ä»»åŠ¡é…ç½®ä¸­è®¾ç½®æºç ç®¡ç†ï¼ˆgitï¼‰ã€‚è¿™é‡Œé’©å­è§¦å‘çš„é…ç½®å’Œä¸Šé¢ä¸€æ ·ï¼Œä½†æ„å»ºåé€šçŸ¥æ˜¯å†™åœ¨pipelineä¸­çš„ï¼Œä¸‹é¢çš„å¤šåˆ†æ”¯æµæ°´çº¿ä¼šå†™ã€‚jenkinsä¸­çš„æµæ°´çº¿è¯­æ³•ç”Ÿæˆå™¨å¦‚æœä¸ç†Ÿæ‚‰æµæ°´çº¿è¯­æ³•å¯ä»¥åœ¨é…ç½®ä»»åŠ¡ä¸­é€‰æ‹©æµæ°´çº¿è¯­æ³•ï¼Œè·³è½¬åˆ°è¯­æ³•ç”Ÿæˆå™¨ã€‚ä¾‹å¦‚æˆ‘è¿™é‡Œç”Ÿæˆä¸€ä¸ªgitæ‹‰å–ä»£ç çš„pipelineç‰‡æ®µå¤šåˆ†æ”¯æµæ°´çº¿å¤šåˆ†æ”¯æµæ°´çº¿å’Œæµæ°´çº¿ä¸åŒçš„åœ°æ–¹æ˜¯å¤šåˆ†æ”¯æµæ°´çº¿å¯ä»¥ç›´æ¥å¯¹ä¸€ä¸ªé¡¹ç›®å¤šä¸ªåˆ†æ”¯è¿›è¡Œä»»åŠ¡ã€‚åœ¨å®é™…ä¸­ï¼Œéœ€è¦å¤šåˆ†æ”¯åŒæ—¶è¿›è¡Œå¼€å‘ã€‚å¦‚æœæ¯ä¸ªåˆ†æ”¯éƒ½åˆ›å»ºä¸€ä¸ªJenkinsé¡¹ç›®ï¼Œæ¯”è¾ƒå¤šä½™ã€‚ä¸€èˆ¬ä¼ä¸šç”Ÿäº§ä¸­ä¹Ÿä¼šé‡‡ç”¨è¿™ç§æ–¹å¼ã€‚æ–°å»ºä»»åŠ¡ä¸­é€‰æ‹©å¤šåˆ†æ”¯æµæ°´çº¿åˆ†æ”¯æºé…ç½®å¡«å…¥gité¡¹ç›®åœ°å€ä»¥åŠç™»å½•å‡­æ®ï¼Œæ·»åŠ è¡Œä¸ºcleanbefore/aftercheckoutç”¨äºæ¸…ç†æœªè·Ÿè¸ªçš„æ–‡ä»¶buildconfigurationå¦‚æœæ˜¯ä»“åº“æ ¹ç›®å½•ä¸‹çš„jenkinsfileå°±ç”¨é»˜è®¤å³å¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é¡¹ç›®ä¸‹éœ€è¦æ‰§è¡Œjenkinsä»»åŠ¡çš„åˆ†æ”¯éƒ½éœ€è¦æœ‰jenkinsfileï¼Œæ¯ä¸ªåˆ†æ”¯çš„jenkinsfileæ˜¯ç‹¬ç«‹çš„ã€‚æ‰«æå¤šåˆ†æ”¯æµæ°´çº¿è§¦å‘å™¨å¤šåˆ†æ”¯æµæ°´çº¿é’©å­è§¦å‘å™¨éœ€è¦ä¸‹è½½æ’ä»¶ï¼šMultibranchScanWebhookTriggerã€‚å®‰è£…å®Œä»¥ååœ¨æ‰«æå¤šåˆ†æ”¯æµæ°´çº¿è§¦å‘å™¨ä¸­é€‰æ‹©scanbywebhookï¼Œè¾“å…¥triggertokenã€‚ä¾‹å¦‚è¿™é‡Œè¾“å…¥çš„æ˜¯testï¼Œåˆ™gitlabé‚£è¾¹è®¾ç½®è§¦å‘é’©å­é…ç½®çš„urlå°±åº”è¯¥æ˜¯http(s)ğŸ˜•/JENKINS_URL/multibranch-webhook-trigger/invoke?token=testé…ç½®å®Œä¿å­˜ä»¥åä¼šè‡ªåŠ¨å¼€å§‹æ‰«æå¤šåˆ†æ”¯ç”±äºæˆ‘è¿™é‡Œæœ‰ä¸¤ä¸ªåˆ†æ”¯mianã€masteré…ç½®äº†jenkinsfileï¼Œåˆ™è¿™ä¸¤ä¸ªåˆ†æ”¯å¯ä»¥æ„å»ºä»»åŠ¡å¤šåˆ†æ”¯å’Œé’©å­è§¦å‘å™¨éƒ½é…ç½®å®Œæ¯•åï¼Œåœ¨gitä»“åº“é‚£è¾¹å¯¹å¯¹åº”åˆ†æ”¯è¿›è¡Œpushæ“ä½œï¼Œè¿™è¾¹å°±ä¼šè‡ªåŠ¨å¼€å§‹æ„å»ºä»»åŠ¡å®‰å…¨å®‰å…¨é…ç½®ä½äºï¼šç³»ç»Ÿé…ç½®-ã€‹å®‰å…¨å…¨å±€é…ç½®å‡­æ®è¿™ä¸ªä¸Šé¢åœ¨gitæ‹‰å–æ—¶å·²ç»ç”¨åˆ°è¿‡äº†ï¼Œå°±ä¸è¯¦ç»†è®²è¿°äº†ã€‚å°±æ˜¯å­˜æ”¾å¯†é’¥æˆ–è€…è´¦å·å¯†ç çš„æ¨¡å—ï¼Œåœ¨ç³»ç»Ÿç®¡ç†-ã€‹å‡­æ®ç®¡ç†ä¸­å¯ä»¥é…ç½®ï¼ˆé…ç½®ä»»åŠ¡æ—¶ä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ å‡­æ®ï¼‰ã€‚å®‰å…¨åŸŸå®‰å…¨åŸŸä¸»è¦æ˜¯å®šä¹‰jenkinsç”¨æˆ·çš„æ•°æ®æºï¼Œé»˜è®¤æ˜¯Jenkinsè‡ªå¸¦çš„ç”¨æˆ·æ•°æ®åº“ã€‚é…ç½®è·¯å¾„ï¼šjenkinsè®¾ç½®-ã€‹å…¨å±€å®‰å…¨é…ç½®-å®‰å…¨åŸŸè¿™ä¸ªä¸€èˆ¬ä½¿ç”¨é»˜è®¤é¡¹å°±è¡Œï¼Œå¦‚æœæœ‰ldapé…ç½®éœ€æ±‚ä¹Ÿå¯ä»¥é€‰æ‹©ldapï¼ˆç”¨æˆ·æ•°æ®ä½¿ç”¨ldapçš„æ•°æ®åº“ï¼‰ã€‚æˆæƒç­–ç•¥ç™»å½•ç”¨æˆ·å¯ä»¥åšä»»ä½•äº‹æˆæƒç­–ç•¥é»˜è®¤æ˜¯â€œç™»å½•ç”¨æˆ·å¯ä»¥åšä»»ä½•äº‹â€œï¼Œè¡¨ç¤ºç™»å½•ç”¨æˆ·çš†ä¸ºæœ€é«˜æƒé™ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå­é€‰é¡¹æ˜¯â€åŒ¿åç”¨æˆ·å…·æœ‰å¯è¯»æƒé™â€œï¼Œä¸€èˆ¬ä¼šé…åˆå­é€‰é¡¹è¿›è¡Œä½¿ç”¨ã€‚ï¼ˆç™»å½•çš„æ˜¯ç®¡ç†å‘˜ï¼Œä¸ç™»é™†å°±åªæœ‰åªè¯»æƒé™ï¼‰ä»»ä½•ç”¨æˆ·å¯ä»¥åšä»»ä½•äº‹(æ²¡æœ‰ä»»ä½•é™åˆ¶)ç®€æ˜çŸ¥æ„ï¼Œæ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬åŒ¿åç”¨æˆ·ï¼‰éƒ½æœ‰æœ€é«˜æƒé™ã€‚ä¸€èˆ¬ä¸ç”¨å®‰å…¨çŸ©é˜µå’Œé¡¹ç›®çŸ©é˜µæˆæƒç­–ç•¥æ ¹æ®ç”¨æˆ·æˆ–ç”¨æˆ·ç»„æˆäºˆå¯¹åº”æƒé™ï¼Œå¯ä»¥ç²¾ç¡®åˆ°å…·ä½“æ¨¡å—æƒé™ï¼Œä½†ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªæ›´å¥½çš„æ¨¡å—Role-BasedStrategyä½œä¸ºæ›¿ä»£ã€‚Role-BasedStrategyè§’è‰²æˆæƒæ¨¡å—ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ç­–ç•¥ï¼Œéœ€è¦å…ˆä¸‹è½½æ¨¡å—Role-basedAuthorizationStrategyã€‚åº”ç”¨Role-BasedStrategyä»¥åï¼Œé€‰æ‹©ç³»ç»Ÿç®¡ç†-ã€‹å®‰å…¨-ã€‹ManageandAssignRolesç®¡ç†è§’è‰²ä½äºç³»ç»Ÿç®¡ç†-ã€‹å®‰å…¨-ã€‹ManageandAssignRoles-ã€‹ç®¡ç†è§’è‰²ç®¡ç†è§’è‰²ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯åˆ›å»ºä¸€ä¸ªè§’è‰²ï¼Œå¹¶å¯¹äºè§’è‰²æˆäºˆæƒé™ï¼Œç„¶åå°†è§’è‰²èµ‹äºˆç”¨æˆ·æˆ–ç”¨æˆ·ç»„Globalroleså…¨å±€ç®¡ç†ï¼Œå¯ä»¥å¯¹ç”¨æˆ·æˆ–ç»„æˆäºˆæƒé™ï¼ˆè¾“å…¥ç”¨æˆ·addä»¥åé€šè¿‡é€‰æ‹©æ‰“å‹¾æˆäºˆå¯¹åº”æ¨¡å—æƒé™ï¼Œç„¶åä¿å­˜ç”Ÿæ•ˆï¼‰ã€‚Itemrolesé€šè¿‡é¡¹ç›®è¿›è¡Œæˆæƒï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™åŒ¹é…ã€‚ä¾‹å¦‚æˆ‘è¿™é‡Œæ˜¯æˆäºˆæœ‰è‹±æ–‡å­—æ¯a-zçš„é¡¹ç›®æƒé™NoderolesNoderolesåœ¨Jenkinsé›†ç¾¤ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œé…ç½®ä¸åŒç»“ç‚¹çš„Jenkinsæƒé™ã€‚ï¼ˆç›®å‰æ²¡ä½¿ç”¨è¿‡ï¼Œå¦‚åæœŸæœ‰ä½¿ç”¨ä¼šè¡¥ä¸Šè¿™ä¸€å—å†…å®¹ï¼‰åˆ†é…è§’è‰²åˆ†é…è§’è‰²ä¹Ÿæ˜¯ä¸‰å¤§å—ï¼šGlobalrolesã€Itemrolesã€Noderolesã€‚åˆ†é…ä¸»è¦å°±æ˜¯æ·»åŠ ç”¨æˆ·ã€ç”¨æˆ·ç»„ç„¶åå‹¾é€‰ä¸Šé¢åˆ›å»ºå¥½çš„è§’è‰²ï¼Œæ­¤æ—¶ç”¨æˆ·ã€ç”¨æˆ·ç»„åˆ™æ‹¥æœ‰äº†è¯¥è§’è‰²çš„æƒé™ã€‚å¤‡æ³¨ï¼šjenkinsé»˜è®¤æ²¡æœ‰ç»„é€‰é¡¹ï¼Œåªèƒ½é€šè¿‡activedirectoryæˆ–è€…ldapå¯¹æ¥jenkinsç”¨æˆ·æ•°æ®æ¥ä½¿ç”¨ç”¨æˆ·ç»„ç®¡ç†ã€‚å…¶ä»–é—®é¢˜k8sç¯å¢ƒä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜æ—¶åŒºæ—¶åŒºé»˜è®¤è‚¯å®šä¸æ˜¯å›½å†…çš„ï¼Œæœ€ç®€ä¾¿çš„è§£å†³æ–¹æ³•æ˜¯é€šè¿‡æŒ‚è½½ä¸»æœºï¼ˆk8shostpathæ–¹æ³•ï¼‰çš„æ—¶åŒºæ–‡ä»¶(/etc/localtime)è§£å†³ã€‚æˆ–è€…dockerfileç”¨jenkinsä½œä¸ºåŸºç¡€é•œåƒï¼Œå†åŠ ä¸Šæ—¶åŒºä¿®æ”¹çš„é…ç½®ä¹Ÿå¯ä»¥ã€‚ä¸­æ–‡ä¹±ç è¿™ä¸ªæ˜¯ä¸æ˜¯k8séƒ½æœ‰å¯èƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦æ˜¯ä¸»æœºçš„å­—ç¬¦é›†æ ¼å¼éœ€è¦ä¿®æ”¹ä¸ºä¸­æ–‡utf-8ã€‚å¦‚æœæ˜¯k8sçš„è¯éœ€è¦dockerfileé‡æ–°æ‰“ä¸€ä¸‹é•œåƒï¼Œæ”¹æˆä¸­æ–‡utf-8ï¼Œæˆ–è€…æ¯æ¬¡å¯åŠ¨æ—¶å®‰è£…utf-8ä¸­æ–‡å¹¶é…ç½®ï¼ˆä¸€èˆ¬jenkinsé•œåƒæ²¡æœ‰ä¸­æ–‡utf-8ï¼‰","link":"https://koko-club.github.io/post/jenkins/"},{"title":"ldap","content":"ldapä»€ä¹ˆæ˜¯ldapé¦–å…ˆLDAPæ˜¯ä¸€ç§é€šè®¯åè®®ï¼ŒLDAPæ”¯æŒTCP/IPã€‚åè®®å°±æ˜¯æ ‡å‡†ï¼Œå¹¶ä¸”æ˜¯æŠ½è±¡çš„ã€‚åœ¨è¿™å¥—æ ‡å‡†ä¸‹ï¼ŒADï¼ˆActiveDirectoryï¼‰æ˜¯å¾®è½¯å‡ºçš„ä¸€å¥—å®ç°ã€‚é‚£ADæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæš‚ä¸”æŠŠå®ƒç†è§£æˆæ˜¯ä¸ªæ•°æ®åº“ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººç›´æ¥æŠŠLDAPè¯´æˆæ•°æ®åº“(å¯ä»¥æŠŠLDAPç†è§£æˆå­˜å‚¨æ•°æ®çš„æ•°æ®åº“)ã€‚åƒæ˜¯å…¶ä»–æ•°æ®åº“ä¸€æ ·ï¼ŒLDAPä¹Ÿæ˜¯æœ‰clientç«¯å’Œserverç«¯ã€‚serverç«¯æ˜¯ç”¨æ¥å­˜æ”¾èµ„æºï¼Œclientç«¯ç”¨æ¥æ“ä½œå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚è€Œæˆ‘ä»¬é€šå¸¸è¯´çš„LDAPæ˜¯æŒ‡è¿è¡Œè¿™ä¸ªæ•°æ®åº“çš„æœåŠ¡å™¨ã€‚å¯ä»¥ç®€å•ç†è§£AD=LDAPæœåŠ¡å™¨ï¼‹LDAPåº”ç”¨ã€‚ç”¨é€”ç”¨äºç»Ÿä¸€è®¤è¯ç®¡ç†ï¼Œç»Ÿä¸€å…¬å¸å†…éƒ¨æœåŠ¡è´¦å·å¯†ç ã€‚LDAPæ¨¡å‹åŸºæœ¬æ¨¡å‹ç›®å½•æ ‘ï¼šåœ¨ä¸€ä¸ªç›®å½•æœåŠ¡ç³»ç»Ÿä¸­ï¼Œæ•´ä¸ªç›®å½•ä¿¡æ¯é›†å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªç›®å½•ä¿¡æ¯æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¡ç›®ã€‚æ¡ç›®ï¼šæ¯ä¸ªæ¡ç›®å°±æ˜¯ä¸€æ¡è®°å½•ï¼Œæ¯ä¸ªæ¡ç›®æœ‰è‡ªå·±çš„å”¯ä¸€å¯åŒºåˆ«çš„åç§°ï¼ˆDNï¼‰ã€‚å¯¹è±¡ç±»ï¼šæ˜¯æŸä¸ªå®ä½“ç±»å‹å¯¹åº”çš„ä¸€ç»„å±æ€§ï¼Œå¯¹è±¡ç±»å¯ä»¥ç»§æ‰¿ï¼Œçˆ¶ç±»çš„å¿…é¡»å±æ€§ä¹Ÿä¼šè¢«ç»§æ‰¿ä¸‹æ¥ã€‚å±æ€§ï¼šæè¿°æ¡ç›®çš„æŸä¸ªæ–¹é¢çš„ä¿¡æ¯ï¼Œä¸€ä¸ªå±æ€§ç”±ä¸€ä¸ªå±æ€§ç±»å‹å’Œä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§å€¼ç»„æˆï¼Œå±æ€§æœ‰å¿…é¡»å±æ€§å’Œéå¿…é¡»å±æ€§ã€‚å…³é”®å­—è‹±æ–‡å…¨ç§°å«ä¹‰dcDomainComponentåŸŸåçš„éƒ¨åˆ†ï¼Œå…¶æ ¼å¼æ˜¯å°†å®Œæ•´çš„åŸŸååˆ†æˆå‡ éƒ¨åˆ†ï¼Œå¦‚åŸŸåä¸ºexample.comå˜æˆdc=example,dc=comï¼ˆä¸€æ¡è®°å½•çš„æ‰€å±ä½ç½®ï¼‰uidUserIdç”¨æˆ·IDsongtao.xuï¼ˆä¸€æ¡è®°å½•çš„IDï¼‰ouOrganizationUnitç»„ç»‡å•ä½ï¼Œç»„ç»‡å•ä½å¯ä»¥åŒ…å«å…¶ä»–å„ç§å¯¹è±¡ï¼ˆåŒ…æ‹¬å…¶ä»–ç»„ç»‡å•å…ƒï¼‰ï¼Œå¦‚â€œoaç»„â€ï¼ˆä¸€æ¡è®°å½•çš„æ‰€å±ç»„ç»‡ï¼‰cnCommonNameå…¬å…±åç§°ï¼Œå¦‚â€œThomasJohanssonâ€ï¼ˆä¸€æ¡è®°å½•çš„åç§°ï¼‰snSurnameå§“ï¼Œå¦‚â€œè®¸â€dnDistinguishedNameâ€œuid=songtao.xu,ou=oaç»„,dc=example,dc=comâ€ï¼Œä¸€æ¡è®°å½•çš„ä½ç½®ï¼ˆå”¯ä¸€ï¼‰rdnRelativednç›¸å¯¹è¾¨åˆ«åï¼Œç±»ä¼¼äºæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›¸å¯¹è·¯å¾„ï¼Œå®ƒæ˜¯ä¸ç›®å½•æ ‘ç»“æ„æ— å…³çš„éƒ¨åˆ†ï¼Œå¦‚â€œuid=tomâ€æˆ–â€œcn=ThomasJohanssonâ€dnï¼šä¸€æ¡è®°å½•çš„è¯¦ç»†ä½ç½®ã€‚ç›®å½•ä½ç½®dcï¼šä¸€æ¡è®°å½•æ‰€å±åŒºåŸŸ(å“ªä¸€é¢—æ ‘)ã€‚æ ¹åç§°ouï¼šä¸€æ¡è®°å½•æ‰€å±ç»„ç»‡ï¼ˆå“ªä¸€ä¸ªåˆ†æ”¯ï¼‰ã€‚ç»„åç§°cn/uidï¼šä¸€æ¡è®°å½•çš„åå­—/ID(å“ªä¸€ä¸ªè‹¹æœåå­—)ã€‚ç”¨æˆ·åç§°ä¿¡æ¯æ¨¡å‹LDAPä¸­ï¼Œä¿¡æ¯ä»¥æ ‘çŠ¶æ–¹å¼è¿›è¡Œç»„ç»‡çš„ï¼Œåœ¨æ ‘çŠ¶ä¿¡æ¯ä¸­çš„åŸºæœ¬æ•°æ®å•å…ƒæ˜¯æ¡ç›®ï¼Œè€Œæ¯ä¸ªæ¡ç›®ç”±å±æ€§æ„æˆï¼Œå±æ€§ä¸­å­˜å‚¨æœ‰å±æ€§å€¼;å‘½åæ¨¡å‹å³LDAPä¸­çš„æ¡ç›®å®šä½æ–¹å¼ï¼Œåœ¨LDAPä¸­æ¯ä¸ªæ¡ç›®å‡æœ‰è‡ªå·±çš„DNã€‚DNæ˜¯è¯¥æ¡ç›®åœ¨æ•´ä¸ªæ ‘ä¸­çš„å”¯ä¸€åç§°æ ‡è¯†ï¼Œå¦‚åŒæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¸¦è·¯å¾„çš„æ–‡ä»¶åå°±æ˜¯DNã€‚åŠŸèƒ½æ¨¡å‹åœ¨LDAPä¸­å…±æœ‰å››ç±»10ç§æ“ä½œï¸°æŸ¥è¯¢ç±»æ“ä½œï¼šå¦‚æœç´¢ã€æ¯”è¾ƒ;æ›´æ–°ç±»æ“ä½œï¼šå¦‚æ·»åŠ æ¡ç›®ã€åˆ é™¤æ¡ç›®ã€ä¿®æ”¹æ¡ç›®ã€ä¿®æ”¹æ¡ç›®å;è®¤è¯ç±»æ“ä½œï¼šå¦‚ç»‘å®šã€è§£ç»‘å®š;å…¶å®ƒæ“ä½œï¼šå¦‚æ”¾å¼ƒå’Œæ‰©å±•æ“ä½œã€‚é™¤äº†æ‰©å±•æ“ä½œï¼Œå¦å¤–9ç§æ˜¯LDAPçš„æ ‡å‡†æ“ä½œï¹”æ‰©å±•æ“ä½œæ˜¯LDAPä¸­ä¸ºäº†å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œæä¾›çš„ä¸€ç§æ ‡å‡†çš„æ‰©å±•æ¡†æ¶ï¼Œå½“å‰å·²ç»æˆä¸ºLDAPæ ‡å‡†çš„æ‰©å±•æ“ä½œï¼Œæœ‰ä¿®æ”¹å¯†ç å’ŒstartTLSæ‰©å±•ï¼Œåœ¨æ–°çš„RFCæ ‡å‡†å’Œè‰æ¡ˆä¸­æ­£åœ¨å¢åŠ ä¸€äº›æ–°çš„æ‰©å±•æ“ä½œï¼Œä¸åŒçš„LDAPå‚å•†ä¹Ÿå‡å®šä¹‰äº†è‡ªå·±çš„æ‰©å±•æ“ä½œã€‚å®‰å…¨æ¨¡å‹å®‰å…¨æ¨¡å‹ä¸»è¦é€šè¿‡èº«ä»½è®¤è¯ã€å®‰å…¨é€šé“å’Œè®¿é—®æ§åˆ¶æ¥å®ç°ã€‚ldapserverä¸€èˆ¬ldapæœåŠ¡ç«¯æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯openldapï¼Œè¿™é‡Œä»…è®°å½•openldapçš„éƒ¨ç½²åŠä½¿ç”¨ã€‚openldapk8séƒ¨ç½²ç›´æ¥ç”¨yamléƒ¨ç½²å°±è¡Œï¼Œé•œåƒç”¨çš„æ˜¯bitnamiçš„ldapé•œåƒapiVersion:apps/v1kind:Deploymentmetadata:name:openldapspec:replicas:1selector:matchLabels:app:openldapstrategy:rollingUpdate:maxSurge:25%maxUnavailable:25%type:RollingUpdatetemplate:metadata:labels:app:openldapspec:containers:-env:-name:LDAP_ADMIN_USERNAMEvalue:admin-name:LDAP_ADMIN_PASSWORDvalue:&quot;123456&quot;-name:LDAP_USERSvalue:manager-name:LDAP_PASSWORDSvalue:&quot;123456&quot;-name:LDAP_ROOTvalue:dc=finsiot,dc=comimage:bitnami/openldap:latestimagePullPolicy:Alwaysname:openldapports:-containerPort:1389name:serviceprotocol:TCPresources:limits:cpu:&quot;1&quot;memory:2Girequests:cpu:&quot;1&quot;memory:2GivolumeMounts:-mountPath:/bitnami/openldap/dataname:openldap-pvcsubPath:ldap-mountPath:/bitnami/openldap/slapd.dname:openldap-pvcsubPath:slapd.ddnsPolicy:ClusterFirstrestartPolicy:AlwaysschedulerName:default-schedulersecurityContext:{}terminationGracePeriodSeconds:30volumes:-name:openldap-pvcpersistentVolumeClaim:claimName:ldap-pvc---apiVersion:v1kind:PersistentVolumeClaimmetadata:name:ldap-pvclabels:app:ldapspec:storageClassName:csi-rbd-sc#è¿™é‡Œçš„storageclassæ˜¯æˆ‘ä»¬ä¹‹å‰ç”³è¯·çš„accessModes:-ReadWriteOnceresources:requests:storage:2Gi---apiVersion:v1kind:Servicemetadata:name:openldapspec:#clusterIP:192.168.110.29#externalTrafficPolicy:Clusterports:-nodePort:30300port:1389protocol:TCPtargetPort:serviceselector:app:openldapsessionAffinity:Nonetype:NodePortstatus:loadBalancer:{}ldapäºŒè¿›åˆ¶éƒ¨ç½²è¿™é‡Œæ²¡æœ‰å°è¯•è¿‡äºŒè¿›åˆ¶éƒ¨ç½²ldapï¼Œåé¢ä¼šå†™ã€‚ldapç®¡ç†ç®¡ç†æ“ä½œldapæ•°æ®å¯ä»¥ä½¿ç”¨ldapå®¢æˆ·ç«¯æˆ–è€…ldapç®¡ç†æœåŠ¡å·¥å…·å®ç°ã€‚å¦‚æœä½¿ç”¨ldapwindowså®¢æˆ·ç«¯å¯ä»¥ä¸‹è½½LDAPSoftLdapBrowserä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨ç®¡ç†webé¡µé¢å¯ä»¥éƒ¨ç½²æœåŠ¡ï¼šldapphpadminã€‚ldapphpadmink8séƒ¨ç½²apiVersion:apps/v1kind:Deploymentmetadata:annotations:kompose.cmd:komposeconvert-fdocker-compose.ymlkompose.version:1.16.0(0c01309)creationTimestamp:nulllabels:io.kompose.service:phpldapadminname:phpldapadminspec:replicas:1strategy:{}selector:#å®šä¹‰é€‰æ‹©å™¨matchLabels:#åŒ¹é…ä¸Šé¢çš„æ ‡ç­¾io.kompose.service:phpldapadmin#åŒ¹é…æ¨¡æ¿åç§°template:metadata:creationTimestamp:nulllabels:io.kompose.service:phpldapadminspec:containers:-env:-name:PHPLDAPADMIN_HTTPSvalue:&quot;false&quot;-name:PHPLDAPADMIN_LDAP_HOSTSvalue:'ldap://192.168.110.29:30389'image:osixia/phpldapadmin:0.7.1name:phpldapadminports:-containerPort:80resources:{}restartPolicy:Always---apiVersion:v1kind:Servicemetadata:ZZlabels:io.kompose.service:phpldapadminname:phpldapadminspec:ports:-name:&quot;8080&quot;port:8080targetPort:80selector:io.kompose.service:phpldapadminldapfornexusæœ¬æ–‡ä¸»è¦ä¸ºnexusé›†æˆåˆ°ldapçš„é…ç½®ï¼Œç”±äºç½‘ä¸Šå…³äºè¯¥åŠŸèƒ½çš„é…ç½®å¤§éƒ½å±‚æ¬¡ä¸é½ä¸”å†™çš„å¤ªæ¨¡ç³Šï¼Œæ•…è®°å½•æ­¤æ–‡æ¡£ã€‚1ã€ldapé…ç½®è¿™é‡Œldapç”¨çš„æ˜¯openldapï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦éƒ¨ç½²å¥½openldapã€‚é¦–å…ˆæƒ³è¦åœ¨nexusä¸­é›†æˆldapï¼Œldapçš„æœåŠ¡ç«¯å¿…é¡»è¦æœ‰ç»„å’Œç”¨æˆ·ã€‚è¿™é‡Œçš„ç»„ç”¨æ¥æ˜ å°„ä¸nexusçš„è§’è‰²ï¼Œä½¿å…¶ç»„ä¸‹é¢çš„ç”¨æˆ·éƒ½æ‹¥æœ‰nexusæ˜ å°„è§’è‰²çš„æƒé™ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚è¿™é‡Œçš„ç”¨æˆ·åˆ™ç”¨æ¥ç™»å½•nexusã€‚æ‰€ä»¥éœ€è¦åˆ›å»ºå¥½ç»„å’Œç”¨æˆ·ï¼Œè¿™é‡Œä»¥æ˜ å°„ä¸€ä¸ªnexusç®¡ç†å‘˜ä¸ºä¾‹å­ï¼Œé¦–å…ˆåˆ›å»ºå‡†å¤‡å¥½ldapçš„ç”¨æˆ·å’Œç»„ï¼šåˆ›å»ºä¸€ä¸ªouä¸ºnexusï¼Œç»„ä¸ºmanagerï¼Œç”¨æˆ·ä¸ºnexusï¼Œå…ˆåˆ›å»ºç»„ï¼Œç„¶ååˆ›å»ºç”¨æˆ·æŒ‡å®šç»„ã€‚ç»„:cn=manager,ou=nexus,dc=finsiot,dc=comç”¨æˆ·:cn=nexus,ou=nexus,dc=finsiot,dc=com2ã€nexusé…ç½®1.è®¿é—®nexus-webç®¡ç†é¡µé¢ï¼Œç™»å½•ç®¡ç†å‘˜è´¦å·ï¼Œè¿›å…¥è®¾ç½®-ã€‹secruity-ã€‹LDAP-ã€‹createconnection2.connectioné…ç½®ï¼šnameï¼šè¿™ä¸ªæ˜¯è¦åˆ›å»ºçš„ldapåç§°ï¼Œå¯ä»¥éšä¾¿å¡«ï¼Œéå…³é”®æ€§å‚æ•°ã€‚Ldapserveraddress:å¡«å…¥ldapåœ°å€SearchbaseDn:å¡«å…¥dnåœ°å€ï¼ˆdcçš„åœ°å€ï¼‰Authenticationmethod:SimpleAuthenticationUsernameorDN:å¡«å…¥ç™»å½•ç”¨æˆ·å(ä¸€èˆ¬ç”¨adminç®¡ç†å‘˜ç™»å½•)password:å¯†ç 3.Userandgroupé…ç½®ï¼šconfigurationtemplate:é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿ï¼Œéå…³é”®æ€§å‚æ•°ï¼Œåªæ˜¯ä¼šé¢„å…ˆç»™å‡ºä¸‹é¢ä¸€äº›å‚æ•°çš„å€¼ã€‚è¿™é‡Œå¯ä»¥é€‰posixwithstaticgroupsuserrelativedn(basedn):å¯¹åº”äºç”¨ä½œç”¨æˆ·æ¡ç›®åŸºç¡€çš„ä¸“æœ‰åç§°é›†åˆã€‚æ­¤DNä¸å‰é¢çš„searchbaseç›¸å…³ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·éƒ½åŒ…å«åœ¨ou=nexusï¼Œdc=finsiot,dc=comä¸­ï¼Œå‰é¢ç™»å½•æ—¶æŒ‡å®šäº†dc=finsiot,dc=comçš„æœç´¢åº“ï¼Œåˆ™è¿™é‡Œä½¿ç”¨å€¼ou=nexusã€‚Usersubtreeï¼šå¦‚æœåŸºæœ¬DNä¸‹é¢çš„æ ‘å¯ä»¥åŒ…å«ç”¨æˆ·æ¡ç›®ï¼Œåˆ™å€¼ä¸ºtrue;å¦‚æœæ‰€æœ‰ç”¨æˆ·éƒ½åŒ…å«åœ¨æŒ‡å®šçš„åŸºæœ¬DNä¸­ï¼Œåˆ™ä¸ºfalseã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‰€æœ‰ç”¨æˆ·éƒ½åœ¨ou=usersï¼Œdc=sonatypeï¼Œdc=comï¼Œåˆ™æ­¤å­—æ®µåº”ä¸ºFalseã€‚å¦‚æœç”¨æˆ·å¯ä»¥åœ¨ç»„ç»‡å•ä½å†…çš„ç»„ç»‡å•ä½ä¸­æ˜¾ç¤ºï¼Œä¾‹å¦‚ou=developmentï¼Œou=usersï¼Œdc=sonatypeï¼Œdc=comï¼Œåˆ™æ­¤å­—æ®µåº”ä¸ºTrueã€‚Objectclassï¼šæ­¤å€¼æ˜¯RFC-2798ä¸­å®šä¹‰çš„æ ‡å‡†å¯¹è±¡ç±»ã€‚å®ƒä¸ºç”¨æˆ·æŒ‡å®šå¯¹è±¡ç±»ã€‚å¸¸è§å€¼ä¸ºinetOrgPersonï¼Œpersonï¼Œuseræˆ–posixAccountã€‚è¿™é‡Œä½¿ç”¨æ¨¡æ¿é»˜è®¤çš„posixAccountUserfilterï¼šè¿™å…è®¸æ‚¨é…ç½®è¿‡æ»¤å™¨ä»¥é™åˆ¶å¯¹ç”¨æˆ·è®°å½•çš„æœç´¢ã€‚å®ƒå¯ä»¥ç”¨ä½œæ€§èƒ½æ”¹è¿›ã€‚è¿™é‡Œä¸ç”¨å¡«å†™ã€‚UserIDattributeï¼šè¿™æ˜¯ä¸Šé¢æŒ‡å®šçš„å¯¹è±¡ç±»çš„å±æ€§ï¼Œå®ƒä»LDAPæœåŠ¡å™¨æä¾›ç”¨æˆ·çš„æ ‡è¯†ç¬¦ã€‚å­˜å‚¨åº“ç®¡ç†å™¨ä½¿ç”¨æ­¤å±æ€§ä½œä¸ºç”¨æˆ·IDå€¼ã€‚åœ¨ldapåˆ›å»ºäº†ç”¨æˆ·ä»¥åï¼Œé‡Œé¢æœ‰ä¸€ä¸ªå±æ€§å€¼ï¼ˆé»˜è®¤ä¸ºuidï¼‰ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªnexusçš„ç”¨æˆ·ï¼Œåˆ™ä¼šæœ‰ä¸€ä¸ªuidçš„å€¼ä¸ºnexusï¼ŒnexusæœåŠ¡éœ€è¦é€šè¿‡è¿™ä¸ªkey:valueæ¥æ‰¾åˆ°è¯¥ç”¨æˆ·Realnameattributeï¼šè¿™æ˜¯Objectç±»çš„å±æ€§ï¼Œå®ƒæä¾›ç”¨æˆ·çš„çœŸå®å§“åã€‚å­˜å‚¨åº“ç®¡ç†å™¨åœ¨éœ€è¦æ˜¾ç¤ºç”¨æˆ·çš„çœŸå®å§“åæ—¶ä½¿ç”¨æ­¤å±æ€§ï¼Œç±»ä¼¼äºå†…éƒ¨åå­—å’Œå§“æ°å±æ€§çš„ä½¿ç”¨ã€‚è¿™ä¸ªä¹Ÿæ˜¯å»æ‰¾ldapé‡Œé¢çš„kvå±æ€§ï¼Œé»˜è®¤æ˜¯keyçš„åç§°ä¸ºcnã€‚Emailattribute:åŒä¸Šé¢çš„UserIDattributeå’ŒRealnameattributeï¼Œé»˜è®¤keyçš„åç§°ä¸ºmailã€‚Passwordattribute:ä¸ç”¨å¡«å†™ï¼Œè¿™é‡Œä¸ºç©ºåˆ™ä¼šåœ¨ç™»å½•æ—¶è¯»å–ldapä¸­ç”¨æˆ·çš„passwordå­—æ®µã€‚MapLDAPgroupsasrolesï¼šè¿™é‡Œéœ€è¦å‹¾é€‰ï¼Œä¸‹é¢æ˜¯ç»„çš„é…ç½®ï¼Œç”¨äºå°†ldapç»„æ˜ å°„äºnexusã€‚Grouptype:staticGroupsè¿™é‡Œé€‰æ‹©é™æ€ç»„GrouprelativeDN:æŒ‡åç»„çš„DNä½ç½®ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œmanagerç»„åœ¨nexusä¸‹é¢ï¼Œåˆ™è¿™é‡Œå¡«ou=nexusã€‚Groupsubtree:å‹¾é€‰ï¼Œè¡¨ç¤ºæ˜¯ä½äºgroupä¸‹é¢çš„å­ç»„ã€‚ä¾‹å¦‚æˆ‘ä¸Šé¢ou=nexusï¼Œåˆ™è¿™é‡Œå‹¾é€‰çš„æ„æ€æ˜¯nexusä¸‹é¢çš„ç»„ã€‚Groupobjectclass:ç»„åˆ›å»ºæ—¶ä¼šæœ‰è¿™ä¸ªå­—æ®µï¼Œé»˜è®¤ä¸ºposixGroupã€‚å’Œä¸Šé¢å®šä¹‰UserIDattributeå’ŒRealnameattributeå’ŒEmailattributeæ˜¯ä¸€æ ·çš„ã€‚GroupIDattributeï¼šè¿™é‡Œè¡¨ç¤ºç»„çš„idå±æ€§ï¼Œå’Œä¸Šé¢å®šä¹‰UserIDattributeå’ŒRealnameattributeå’ŒEmailattributeæ˜¯ä¸€æ ·çš„ã€‚Groupmemberattribute:è¿™é‡Œè¡¨ç¤ºç»„é‡Œé¢æœ‰å“ªäº›æˆå‘˜ï¼Œå’Œä¸Šé¢ä¸¤ä¸ªå±æ€§ä¸€æ ·ï¼Œä¹Ÿæ˜¯ldapç»„ä¸­çš„å­—æ®µï¼Œä½†é»˜è®¤ä¸ä¼šåˆ›å»ºè¿™ä¸ªå­—æ®µï¼Œè¯·æ‰‹åŠ¨åˆ›å»ºmemberUidçš„å­—æ®µå¹¶æŠŠæˆå‘˜çš„å­—æ®µå€¼å†™å…¥è¯¥å­—æ®µï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°æ˜ å°„çš„è§’è‰²ã€‚Groupmemberformat:è¯¥å­—æ®µç”¨æ¥æ‰¾åˆ°memberUidä¸­çš„ç»„å‘˜åç§°çš„ï¼Œä½¿ç”¨å˜é‡${username}ã€‚åˆ›å»ºè§’è‰²åœ¨nexusè®¾ç½®-ã€‹security-ã€‹rolesä¸­æ·»åŠ ä¸€ä¸ªroleï¼Œtypeä¸ºexternalrolemappingï¼Œexternalroletypeä¸ºldapã€‚MappedRoleï¼šè¯·å¡«å†™ä¸ºldapä¸­åˆ›å»ºçš„ç»„åç§°ï¼Œä¸¤ä¸ªæœåŠ¡ä¼šé€šè¿‡åç§°è¿›è¡Œæ˜ å°„ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œldapä¸­æœ‰ä¸€ä¸ªnexusç”¨æˆ·ï¼Œåœ¨managerç»„ä¸‹é¢ï¼Œäºæ˜¯è¿™é‡Œæˆ‘å®šä¹‰ä¸€ä¸ªmappedroleä¸ºmanagerï¼Œåˆ™nexusä»¥åŠldapä¸­managerç»„ä¸­æ‰€æœ‰ç”¨æˆ·éƒ½ä¼šæ‹¥æœ‰è¿™é‡Œå®šä¹‰å¥½çš„æƒé™ï¼Œä¹Ÿå°±æ˜¯ç»„æƒé™æ˜ å°„ã€‚RoleNameï¼šroleè§’è‰²çš„åç§°ã€‚RoleDescriptionï¼šè§’è‰²ä»‹ç»ã€‚Privilegesï¼šå®šä¹‰çš„æ˜¯è§’è‰²çš„æƒé™ã€‚Rolesï¼šå¯ä»¥ä¸å…¶å®ƒå®šä¹‰å¥½çš„roleå…³è”æƒé™ã€‚æµ‹è¯•åˆ›å»ºå¥½ä»¥åå›åˆ°åˆšåˆšçš„ldapè®¾ç½®ï¼Œç‚¹å‡»åˆšåˆšåˆ›å»ºçš„ldapï¼Œè¿›å…¥userandgroupè®¾ç½®ï¼Œæœ€ä¸‹æ–¹æœ‰ä¸€ä¸ªverifyusermappingã€‚ç‚¹å‡»å±äºldapå¯†ç å°±å¯ä»¥çœ‹åˆ°ç›®å‰å®šä¹‰æ˜ å°„çš„ç»„å’Œç”¨æˆ·æƒ…å†µè¿™é‡Œuseridå…¶å®å°±æ˜¯ä¸Šé¢useridattributeé…ç½®ï¼Œnameä¸ºRealnameattributeé…ç½®ï¼Œemailä¸ºEmailattributeï¼Œrolesæ˜¯MapLDAPgroupsasrolesåŠä¸‹é¢æ‰€æœ‰ç»„é…ç½®å®šä¹‰çš„ã€‚å¦‚æœæœ‰æ²¡æœ‰æ•°æ®çš„å­—æ®µï¼Œè¯·æ£€æŸ¥è¯¥é¡¹å¯¹åº”é…ç½®çš„å­—æ®µæ˜¯å¦æ­£å¸¸é…ç½®ï¼Œä¾‹å¦‚å¦‚æœrolesæ²¡æœ‰ï¼Œè¯·çœ‹ä¸€ä¸‹MapLDAPgroupsasrolesä¸‹é¢çš„é…ç½®æ˜¯å¦æ­£ç¡®ã€‚ldapforjenkinsjenkinsé›†æˆldapçš„æ–¹æ³•1ã€å®‰è£…æ’ä»¶2ã€é…ç½®ldapè¿›å…¥ç®¡ç†è®¾ç½®ï¼ˆmanagejenkinsï¼‰-&gt;å…¨å±€å®‰å…¨è®¾ç½®(configureglobalsecurity),è®¾ç½®å®‰å…¨åŸŸä¸ºldapé…ç½®é¡¹Serverï¼šldapçš„åœ°å€urlrootDNï¼šæ ¹DNç›®å½•è·¯å¾„Usersearchbaseï¼šæŸ¥æ‰¾ç”¨æˆ·çš„ç›®å½•Usersearchfilterï¼šæŸ¥æ‰¾ç”¨æˆ·çš„æ¡ä»¶Groupsearchbaseï¼šæŸ¥æ‰¾ç”¨æˆ·ç»„çš„ç›®å½•Groupsearchfilterï¼šç”¨æˆ·ç»„æ¡ä»¶(æŸ¥æ‰¾ç”¨æˆ·çš„æ¡ä»¶)Groupmembershipï¼šé€‰æ‹©SearchforLDAPgroupscontaininguserManagerDNï¼šç®¡ç†å‘˜æ‰€åœ¨è·¯å¾„ManagerPasswordï¼šç®¡ç†å‘˜å¯†ç DisplayNameLDAPattributeï¼šjenkinså¯¹åº”ldapç”¨æˆ·åçš„å­—æ®µEmailAddressLDAPattributeï¼šemailå­—æ®µé…ç½®ç¤ºä¾‹ï¼šè¿™é‡Œldapçš„ç»“æ„ä¸ºï¼Œç”¨æˆ·ç›®å½•ï¼šou=people,dc=xxx,dc=comï¼Œç”¨æˆ·ç»„ç›®å½•ï¼šou=group,dc=xxx,dc=comè¿™é‡Œéœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼šusersearchfilterç”¨äºæ‰¾åˆ°ç”¨æˆ·ï¼Œå¦‚æœè¿™é‡Œå¡«é”™äº†å°†ä¼šæ‰¾ä¸åˆ°ç”¨æˆ·ã€‚groupsearchbaseåˆ™æ˜¯ç”¨äºæ‰¾åˆ°ç”¨æˆ·ç»„ï¼Œå¦‚æœè¿™é‡Œå¡«é”™äº†å°†æ‰¾ä¸åˆ°ç”¨æˆ·ï¼Œè€Œsearchfilterç”¨äºæ‰¾åˆ°ç”¨æˆ·ç»„ä¸­çš„ç”¨æˆ·(&amp;(objectClass=posixGroup)(memberUid={1}))ï¼Œè¿™é‡Œçš„ç”¨æˆ·ç»„ä¸»è¦ç”¨äºæˆæƒæ—¶ä½¿ç”¨ï¼Œå¯¹ç»„è¿›è¡Œæˆæƒã€‚æµ‹è¯•é…ç½®å®Œæˆå¯ä»¥ç‚¹å‡»testldapsettingsæµ‹è¯•ä¸€ä¸‹ï¼šldapforgitlabgitlabå¹¶ä¸èƒ½ç›´æ¥é€šçŸ¥é¡µé¢è®¾ç½®æ¥å¯¹æ¥ldapï¼Œè€Œæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ã€‚1ã€ldapé…ç½®ï¼ˆäºŒè¿›åˆ¶éƒ¨ç½²ï¼‰è¿™é‡Œé…ç½®åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯äºŒè¿›åˆ¶åŒ…éƒ¨ç½²çš„gitlabï¼Œè¿™ä¸ªç”±äºæˆ‘å¹¶æ²¡æœ‰éƒ¨ç½²è¿‡ï¼Œæ‰€ä»¥ä¸‹é¢çš„é…ç½®æ‘˜æŠ„äºç½‘ä¸Šï¼Œä¸æ¸…æ¥šç‰ˆæœ¬æœ‰æ²¡æœ‰é…ç½®å˜åŒ–ï¼Œä½†é…ç½®å¤§è‡´çš„å­—æ®µåŸºæœ¬åº”è¯¥æ˜¯ä¸€è‡´çš„ï¼›è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯k8sçš„é…ç½®ï¼Œè¿™ç§ä¹Ÿæ˜¯ç›®å‰æˆ‘åœ¨ä½¿ç”¨çš„æ–¹å¼ï¼Œä¼šåœ¨ä¸‹é¢åˆ—å‡ºæ¥ã€‚å¦‚æœæ˜¯äºŒè¿›åˆ¶éƒ¨ç½²çš„åˆ™ç›´æ¥æ›´æ”¹é…ç½®æ–‡ä»¶vi/etc/gitlab/gitlab.rbgitlab_rails['ldap_enabled']=truegitlab_rails['prevent_ldap_sign_in']=falsegitlab_rails['ldap_servers']={'main'=&gt;{'label'=&gt;'LDAP',#éšä¾¿è‡ªå®šä¹‰'host'=&gt;'10.0.20.19',#ldapçš„serveråœ°å€'port'=&gt;389,#ldapç«¯å£'uid'=&gt;'cn',#é…ç½®ä¸ºcnæˆ–è€…snéƒ½å¯ä»¥ï¼Œä½†è¦æ³¨æ„ç”¨æˆ·åç§°å°†ä¼šä»¥æ­¤å¤„é…ç½®ä¸ºä¾æ®'bind_dn'=&gt;'cn=admin,dc=aihelp,dc=net',#ç®¡ç†å‘˜è´¦å·'password'=&gt;'123456',#ç®¡ç†å‘˜å¯†ç 'encryption'=&gt;'plain',#åŠ å¯†'allow_username_or_email_login'=&gt;false,#æ˜¯å¦å¯ç”¨é‚®ä»¶ä½œä¸ºç”¨æˆ·åç™»é™†'block_auto_created_users'=&gt;false,'base'=&gt;'dc=aihelp,dc=net',#æ ¸å¿ƒé…ç½®ï¼Œè¡¨ç¤ºä»å“ªä¸€å±‚è¯»å–ç”¨æˆ·ä¿¡æ¯'user_filter'=&gt;'(memberof=cn=jenkins,ou=group,dc=aihelp,dc=net)',#LDAPç”¨æˆ·è¿›è¡Œè¿‡æ»¤'lowercase_usernames'=&gt;false,'group_base'=&gt;'','admin_group'=&gt;'','external_groups'=&gt;[],'sync_ssh_keys'=&gt;false}}å…¶ä¸­ï¼šlabelæ˜¯æ˜¾ç¤ºåœ¨GitLabç™»å½•æ¡†çš„ä¸Šæ–¹æ–‡å­—æè¿°ã€‚hostå’Œportæ˜¯LDAPæœåŠ¡çš„ä¸»æœºåœ°å€åŠç«¯å£bind_dnå’Œpasswordæ˜¯ä¸€ä¸ªç®¡ç†LDAPçš„dnåŠå¯†ç baseè¡¨ç¤ºLDAPå°†ä»¥è¯¥dnä¸ºèŠ‚ç‚¹ï¼Œå‘ä¸‹æŸ¥æ‰¾ç”¨æˆ·user_filterè¡¨ç¤ºä»¥æŸç§è¿‡æ»¤æ¡ä»¶ç­›é€‰ç”¨æˆ·ï¼Œæ¯”å¦‚å‡è®¾æˆ‘ä»¬åªå¸Œæœ›æ‰€å±ç»„ä¸ºjava-platformçš„ç”¨æˆ·æ¥è®¿é—®GitLabï¼Œåˆ™å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®(memberOf=ou=java-platform,ou=people,dc=domain,dc=com)é…ç½®æ·»åŠ ä¹‹åï¼Œä¾æ—§åƒå®‰è£…æ—¶å€™é‚£æ ·ï¼Œé‡è½½ä¸€ä¸‹é…ç½®ï¼šgitlab-ctlreconfigureCheckingLDAP...LDAP:...Server:ldapmainLDAPauthentication...SuccessLDAPuserswithaccesstoyourGitLabserver(onlyshowingthefirst100results)DN:uid=test01,ou=people,dc=eryajf,dc=netcn:ceshiDN:uid=test02,ou=people,dc=eryajf,dc=netcn:test02DN:uid=test03,ou=people,dc=eryajf,dc=netcn:test03DN:uid=admin,ou=people,dc=eryajf,dc=netcn:AdminCheckingLDAP...Finishedä½¿ç”¨ldapç”¨æˆ·åå¯†ç è¿›è¡Œç™»é™†å³å¯ï¼Œæ­¤æ—¶ç™»é™†è¿›å»æ˜¯æ²¡æœ‰ä»»ä½•é¡¹ç›®çš„æƒé™ï¼Œå¦‚æœéœ€è¦æŸæƒé™ï¼Œå¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œç»„æˆ–è€…å•é¡¹ç›®çš„æˆæƒã€‚2ã€ldapé…ç½®(k8s)ldapè¿™é‡Œç›´æ¥ç”¨helmçš„values.yamlä¼ é€’é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨ldapä¸­é…ç½®å°±è¡Œäº†ã€‚è¿™é‡Œå¦‚æœæ˜¯éƒ¨ç½²ä¹Ÿå»ºè®®é‡‡ç”¨helméƒ¨ç½²ï¼Œç”±äºgitlabæ–°ç‰ˆæœ¬æ¨¡å—è¿‡å¤šï¼Œå¦‚æœå†™yamlæ–‡ä»¶çš„è¯å†åŠ ä¸Šé…ç½®æ–‡ä»¶å’Œéœ€è¦æŒä¹…åŒ–çš„å­˜å‚¨è·¯å¾„å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä½¿ç”¨helmæ˜¯æ¯”è¾ƒç†æƒ³çš„æ–¹å¼ã€‚values.yaml:----ldap:#preventtheuseofLDAPforsign-inviaweb.preventSignin:falseservers:main:label:'LDAP'host:'192.168.110.29'#ldapåœ°å€port:30389#ç«¯å£uid:'uid'bind_dn:'cn=admin,dc=finsiot,dc=com'#ç®¡ç†å‘˜è·¯å¾„password:#ç®¡ç†å‘˜å¯†ç secret:my-ldap-password-secretkey:the-key-containing-the-passwordencryption:'plain'base:'ou=people,dc=finsiot,dc=com'#ç”¨æˆ·è·¯å¾„verify_certificates:true#å¿½ç•¥è¯ä¹¦active_directory:falseallow_username_or_email_login:true#æ”¯æŒé‚®ä»¶å’Œç”¨æˆ·åç™»å½•block_auto_created_users:falseuser_filter:''attributes:username:['cn']#ç”¨æˆ·åå¯¹åº”ldapå­—æ®µemail:['mail','email']#é‚®ç®±å¯¹åº”ldapå­—æ®µname:'description'#ç”¨æˆ·æ˜¾ç¤ºåå­—å¯¹åº”ldapå­—æ®µfister_name:'givenName'last_name:'sn'éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œgitlab-ceä»…æ”¯æŒldapçš„ç”¨æˆ·é…ç½®ï¼Œä¸æ”¯æŒldapç”¨æˆ·ç»„çš„é…ç½®ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨ldapç”¨æˆ·ç»„ï¼Œéœ€è¦ä½¿ç”¨gitlab-eeï¼ˆå•†ä¸šç‰ˆæœ¬ï¼‰ã€‚ldapçš„é…ç½®æ–‡ä»¶æ˜¯configmapï¼šgitlab-webserviceä¸‹é¢çš„gitlab.yml.erbï¼ŒæŒ‚è½½äºgitlab-webservice-defaultçš„/var/opt/gitlab/templates/gitlab.yml.erbè·¯å¾„ã€‚gitlabæ‹‰å–ldapè´¦å·æ•°æ®é—®é¢˜ldapä¸åº”ç”¨ç»“åˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æœåŠ¡éœ€è¦ç™»å½•æ—¶å»è°ƒç”¨ldapçš„è´¦å·æ•°æ®å®ç°ç»“åˆï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æœåŠ¡é¢„å…ˆå°†ldapå­˜åœ¨è‡ªå·±æ•°æ®åº“ä¸­ç„¶åé€šè¿‡ldapçš„è´¦å·è¿›è¡Œç™»å½•ã€‚è€Œgitlabåˆ™æ˜¯åè€…ï¼Œè¿™ç§æƒ…å†µä¼šå¯¼è‡´æ–°åŠ äº†è´¦å·ä½†æ˜¯ldapå´æ²¡åŠæ³•ç›´æ¥ç”¨æ–°è´¦å·ç™»å½•ï¼Œå› ä¸ºgitlabå¹¶éæ˜¯ç™»å½•ç›´æ¥å»ldapè°ƒç”¨ï¼Œè€Œæ˜¯ä»è‡ªå·±æ•°æ®åº“ä¸­æ‰¾ldapè´¦å·æ•°æ®ã€‚è§£å†³åŠæ³•1ã€å®šæ—¶â€‹å¯ä»¥åœ¨gitlabä¸­è®¾ç½®æ¯æ—¥å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶ä»ldapä¸­æ‹‰å–æ•°æ®åˆ°è‡ªå·±çš„æ•°æ®åº“ã€‚K8S:è¿™é‡Œk8sæ˜¯åœ¨helmçš„éƒ¨ç½²æ–‡ä»¶values.yamlæ·»åŠ ä¿®æ”¹ï¼šcron_jobs:ldap_sync_worker:cron:&quot;301***&quot;ldap_group_sync_worker:cron:&quot;0****&quot;äºŒè¿›åˆ¶éƒ¨ç½²ï¼šè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.gitlab.cn/jh/administration/auth/ldap/ldap_synchronization.html2ã€æ‰‹åŠ¨æ‹‰å–æ‰‹åŠ¨æ‹‰å–ä½¿ç”¨gitlab-rakegitlab:ldap:checkå‘½ä»¤å°±å¯ä»¥ï¼Œè¿™ä¸ªæ˜¯æµ‹è¯•ladpçš„å‘½ä»¤ï¼Œæµ‹è¯•çš„åŒæ—¶ä¼šæ‹‰å–ä¸€éæ•°æ®ã€‚å¦‚æœæ˜¯k8séœ€è¦åœ¨gitlab-toolboxå®¹å™¨ä¸­æ‰§è¡Œè¯¥å‘½ä»¤mindocforldapmindocæ˜¯ä¸€æ¬¾å¼€æºwikiæœåŠ¡ï¼Œç”±äºæ¯”è¾ƒå†·é—¨ï¼Œåé¢å¯èƒ½å‡ ä¹ç”¨ä¸åˆ°ï¼Œè¿™é‡Œå°±ç®€ç•¥è®°å½•ä¸€ä¸‹ï¼Œç›´æ¥è´´ä¸Šé…ç½®æ–‡ä»¶app.conf#mindocé…ç½®æ–‡ä»¶#æ˜¯å¦å¯ç”¨ldapldap_enable=true#ldapä¸»æœºåldap_host=192.168.110.29#ldapç«¯å£ldap_port=30389#ldapå†…å“ªä¸ªå±æ€§ä½œä¸ºç”¨æˆ·åldap_attribute=uid#æœç´¢èŒƒå›´ldap_base=dc=finsiot,dc=com#ç¬¬ä¸€æ¬¡ç»‘å®šldapç”¨æˆ·dnldap_user=cn=admin,dc=finsiot,dc=com#ç¬¬ä¸€æ¬¡ç»‘å®šldapç”¨æˆ·å¯†ç ldap_password=123456#è‡ªåŠ¨æ³¨å†Œç”¨æˆ·è§’è‰²ï¼š0è¶…çº§ç®¡ç†å‘˜/1ç®¡ç†å‘˜/2æ™®é€šç”¨æˆ·ldap_user_role=2#ldapæœç´¢filterè§„åˆ™,ADæœåŠ¡å™¨:objectClass=User,openldapæœåŠ¡å™¨:objectClass=posixAccount,ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºå…¶ä»–å±æ€§,å¦‚:title=mindocldap_filter=objectClass=posixAccountç›´æ¥é…ç½®å¥½é‡å¯åº”ç”¨å°±å¯ä»¥ä½¿ç”¨ldapè´¦å·ç™»å½•äº†ã€‚zentaoforldapç¦…é“æœåŠ¡æ¥å…¥ldapldapæ’ä»¶éƒ¨ç½²ç¦…é“æœ¬èº«ä¸æ”¯æŒldapï¼Œéœ€è¦é¢å¤–å®‰è£…ldapæ’ä»¶ã€‚æ’ä»¶åœ°å€ï¼šhttps://github.com/yihoyoung/zentao-ldapéœ€è¦æ³¨æ„çš„æ˜¯ç›®å‰è¿™ä¸ªç‰ˆæœ¬æœ€é«˜ä»…æ”¯æŒç¦…é“12ï¼Œæœ¬äººæµ‹è¯•åœ¨ç¦…é“18ç‰ˆæœ¬ä¸Šé¢ä¸å…¼å®¹ã€‚å…¶å®‰è£…æ­¥éª¤åœ¨githubçš„readmeä¸­æœ‰è¯´æ˜ï¼š1.æ‰“åŒ…ldapæ–‡ä»¶å¤¹ä¸ºldap.zipæ–‡ä»¶2.åˆ›å»ºæ–‡ä»¶ï¼štouch/www/zentaopms/www/ok.txt3.adminè´¦æˆ·ç™»é™†ç¦…é“ï¼Œåå°-&gt;æ’ä»¶-&gt;æœ¬åœ°å®‰è£…ï¼Œé€‰æ‹©æ‰“åŒ…çš„ldap.zipæ–‡ä»¶å®‰è£…å³å¯å…·ä½“æ­¥éª¤ä¸‹è½½ldapä»£ç ï¼Œå°†è¿™ä¸ªæ–‡ä»¶æ‰“åŒ…æˆzipã€‚åœ¨æœåŠ¡å™¨ä¸Šé¢åˆ›å»ºè¯¥æ–‡ä»¶ï¼štouch/www/zentaopms/www/ok.txtç„¶åç™»å½•ç¦…é“ç®¡ç†å‘˜è´¦å·ï¼Œéƒ¨ç½²æ’ä»¶å¦‚ä¸‹ï¼šå®‰è£…æ–‡ä»¶æ—¶æç¤ºç‰ˆæœ¬ä¸å…¼å®¹ç‚¹å‡»å¼ºåˆ¶å®‰è£…å³å¯ã€‚å®‰è£…æˆåŠŸä»¥ååå°ä¼šæœ‰ldapé…ç½®é¡¹ï¼šldapé…ç½®è¯´æ˜LDAPæœåŠ¡å™¨:ldapåœ°å€åè®®ç‰ˆæœ¬ï¼šé»˜è®¤å¡«å†™3BindDNï¼šç®¡ç†è´¦å·åœ°å€BindDNå¯†ç :ç®¡ç†è´¦æˆ·å¯†ç BaseDN:ç”¨æˆ·åœ°å€Searchfilter:æœç´¢ç”¨æˆ·çš„æ¡ä»¶ï¼Œopenldapè¿™ä¸ªæœåŠ¡é»˜è®¤æ˜¯objectClass=posixAccountï¼Œä¸åŒçš„ldapæœåŠ¡ä¸ä¸€æ ·è´¦å·å­—æ®µ:ç™»å½•ç”¨æˆ·åå­—æ®µEMailå­—æ®µ:é‚®ç®±å­—æ®µå§“åå­—æ®µ:åå­—å­—æ®µldapé…ç½®å®Œä»¥åå…ˆç‚¹å‡»ä¿å­˜é…ç½®ï¼Œç„¶åç‚¹å‡»æ‰‹åŠ¨åŒæ­¥ï¼Œå¦‚æœæœ‰åŒæ­¥çš„ç”¨æˆ·ä¿¡æ¯é‚£å°±è¡¨ç¤ºæ²¡é—®é¢˜äº†ã€‚æœ€ååœ¨ç»„ç»‡-ã€‹ç”¨æˆ·ä¸­æŸ¥çœ‹å·²ç»é€šè¿‡ldapå¯¼å…¥çš„ç”¨æˆ·ä¿¡æ¯ã€‚æ³¨æ„ï¼šé…ç½®äº†ldapä»¥åç³»ç»ŸåŸè´¦å·ç™»å½•éœ€è¦åœ¨ç”¨æˆ·åå‰é¢åŠ ä¸Šâ€œâ€ç¬¦å·ï¼Œä¾‹å¦‚â€ç¬¦å·ï¼Œä¾‹å¦‚â€ç¬¦å·ï¼Œä¾‹å¦‚adminã€‚","link":"https://koko-club.github.io/post/ldap/"},{"title":"Hello Gridea","content":"ğŸ‘æ¬¢è¿ä½¿ç”¨Grideaï¼âœï¸Grideaä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„......GithubGrideaä¸»é¡µç¤ºä¾‹ç½‘ç«™ç‰¹æ€§ğŸ‘‡ğŸ“ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„Markdownè¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œğŸŒ‰ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡ğŸ·ï¸ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„ğŸ“‹ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•ğŸ’»ä½ å¯ä»¥åœ¨Windowsï¼ŒMacOSæˆ–Linuxè®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯ğŸŒä½ å¯ä»¥ä½¿ç”¨ğ–¦ğ—‚ğ—ğ—ğ—ğ–»ğ–¯ğ–ºğ—€ğ–¾ğ—Œæˆ–CodingPageså‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°ğŸ’¬ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥Gitalkæˆ–DisqusJSè¯„è®ºç³»ç»ŸğŸ‡¬ğŸ‡§ä½ å¯ä»¥ä½¿ç”¨ä¸­æ–‡ç®€ä½“æˆ–è‹±è¯­ğŸŒä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›ğŸ–¥ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropboxç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥ğŸŒ±å½“ç„¶Grideaè¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ğŸƒæœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼ğŸ˜˜Enjoy~","link":"https://koko-club.github.io/post/hello-gridea/"}]}